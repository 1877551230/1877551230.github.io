---
layout:     post
title:      多态思想的简单应用之打印机
subtitle:   
date:       2019-07-09
categories: Java
author:     miracle
catalog: true
tags:
    - Java面向对象
    - Java练习
---


#### 题目要求

* 分为黑白打印机和彩色打印机
* 不同类型的打印机打印效果不同(A4,B5)

#### 解答

我们需要彩色打印机和黑白打印机,A4纸和B5纸,这四种情况是自由组合的,所以我们把打印机类型和纸张类型做成两个接口  
先定义打印机墨盒(类型)的接口,只有决定颜色的方

InkBox.java

```java
public interface InkBox {
	public String getColor();

}
```

然后定义纸张类型的接口,只有决定纸张类型的方法

Paper.java

```java
public interface Paper {
	public String getSize();

}
```

本需求并未出现共同点的属性,根据打印机类型和纸张类型不同就可以实现具体的方法,所以未有抽象方法  
先写打印A4纸和打印B5纸张的两个类,对纸张类型接口的方法进行重写

A4Paper.java

```java
public class A4Paper implements Paper {

	@Override
	public String getSize() {
		// TODO Auto-generated method stub
		return "A4纸";
	}

}

```

B5Paper.java

```java
public class B5Paper implements Paper {

	@Override
	public String getSize() {
		// TODO Auto-generated method stub
		return "B5纸";
	}

}
```

接下来实现彩印和黑白印两种打印机,对打印机类型接口里的方法进行重写

BlackInkBox.java

```java
public class BlackInkBox implements InkBox {

	@Override
	public String getColor() {
		
		return "黑白墨盒";
	}

}
```

ColorInkBox.java

```java
public class ColorInkBox implements InkBox {

	@Override
	public String getColor() {
		
		return "彩色墨盒";
	}

}
```

然后写一个管理类来实现接口里的方法,这里的接口比较特殊,是组合在一起,所以做一个打印类,以长辈作为函数或方法的参数  

Printer.java

```java
public class Printer {
	//以长辈作为函数或方法的参数,
	public void print(InkBox ib,Paper paper){
		System.out.println("用"+ib.getColor()+"打印在"+paper.getSize());
	}

}
```

为了更好的理解多态,我们做一个简单工厂类,来批量生产(new)类,可以不写直接new  

SimpleFactory.java

```java
public class SimpleFactory {
	/**
	 * 以长辈作为函数或方法的返回值
	 * 简单工厂是用来生产墨盒的
	 * @param type
	 * @return
	 */
	public static InkBox getInkBox(String type){
		InkBox ib = null;
		if("black".equals(type)){
			ib = new BlackInkBox();
		}else if("Color".equals(type)){
			ib = new ColorInkBox();
		}
		
		return ib;
	}
	/**
	 * 简单工厂用来生产不同尺寸的纸张
	 * @param type
	 * @return
	 */
	public static Paper getPaper(String type){
		Paper p = null;
		if("A4".equals(type)){
			p = new A4Paper();
		}else if("B5".equals(type)){
			p = new B5Paper();
		}
		return p;
	}

}
```

最后写一个测试类Demo1

Demo1.java

```java
public class Demo1 {

	public static void main(String[] args) {
		Printer printer = new Printer();
		printer.print(SimpleFactory.getInkBox("black"),SimpleFactory.getPaper("A4"));

	}

}
```