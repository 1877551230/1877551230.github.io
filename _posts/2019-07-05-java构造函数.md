---
layout:     post
title:      java构造方法
subtitle:   
date:       2019-07-05
categories: Java
author:     miracle
catalog: true
tags:
    - Java面向对象
    - Java基础
---
## 构造函数(构造器/构造方法) construtor
* 构造函数不能有返回类型  
* 构造函数的名称必须跟类名一样
* 如果类中没有明确写出构造方法,系统会给出一个默认的构造函数,无参数的空方法,简称空的无参构造  
* 构造函数可以有参数,如果书写了有参构造,那么就建议写一个空的无参构造  
* 在当前的构造方法中调用本类的其他构造,请用this(参数列表);  
* 参数列表中的参数可以是0个或多个,但this(参数列表)调用构造方法的时候,本类必须存在这个构造
### 成员变量:
  类中的属性数据就是成员变量,作用域整个类  
  成员变量会给默认初值具体的值根据数据类型来决定
### 局部变量:
  类中的方法中定义变量就是局部变量,作用域从声明变量开始到第一个右大括号结束  
  使用局部变量必须给初值,如果不使用局部变量,就不需要给初值  
### 面向对象的主线:
1. 为什么要有面向对象  
   * a.可以用类组织一批不同类型的数据
   * b.把现实世界的物和事转换到计算机中,现实世界的对象-->计算机中的类-->计算机内存中的对象
2. 要实现面向对象的手段和途径就是类
   * 类就是一个名词
   *   就是一个模型
   *   就是一个数据结构
   *   就是一种数据类型
 用类可以在内存中实例化若干对象
3. 有了类,还有内存中用类实例化的对象
   * 方法区:类定义
   * 堆区:类的对象
   * 栈区:对象的地址
4. 保证数据在堆区中的存储是安全的正确的 
   * 属性数据是私有的
   * 方法是公有的:
       1. 用setter和构造方法给对象存数据
       2. 用getter来取出数据

##### 有了上面的知识的铺垫,程序员写的常规类就有两种模型:
* 1.类中只有私有属性  
只有公有的getter and setter,或者有 有参数的构造函数,此种类适合存储数据
* 2.类中只有方法,没有属性 
此种类适合做功能,而方法所需操作的数据,可以通过方法的参数传递进入方法
------------------------------------------------------------------------------------------------------------
### 值传递和引用传递
#### 值传递:(基本数据类型的数据传递,栈中的数据)
基本数据类型的数据作为方法的参数进行传递 ,在方法中会另外开辟一个新的内存空间,跟原来的内存空间不是一个内存空间  
* 如果在方法中对参数的值进行更改,不会影响原来的内存空间的值  
* 如果非要获取方法中修改后的值,则要把修改后的值返回出来
#### 引用传递:(数组的传递,对象的传递,堆中的数据)
  如果传递的是对象或数组,实际上是把对象或数组的引用传递到方法中,如果在方法中对引用的对象或数组做任何修改,都会影响原来的内存空间的值,即修改了原来内存空间,其实操作的是同一份内存空间

#### 下面例子证明:
#### 值传递  
  第一次输出a的值是10,调用方法后,方法里的参数a在内存开辟新空间,与a=10互不干扰,因为没有返回值,在方法结束后,在栈区弹出,最后输出的还是main方法里的a=10  
  第二次输出a的值是100,调用方法后,方法里的参数a在内存开辟新空间,与a=10互不干扰,因为有返回值,在方法结束后,把值赋给main里的a后弹出,所以main方法里的a的值被覆盖,所以a=100
#### 引用传递
  Student类被实例化stu,在堆空间开辟新空间,在调用referenceTransfer方法时,参数没有被实例化,所以只开辟了一个内存空间,在方法体中,stu的属性值被覆盖,所以都改变了
```java
package cn.tedu.day06.demo4;
public class Demo1 {
	/**
	 * 此方法演示值传递,注意没有返回值
	 */
	public void valueTransfer(int a){
		a=100;
	}
	/**
	 * 此方法演示值传递,但注意有返回值
	 * @param a
	 * @return
	 */
	public int valueTransfer1(int a){
		a=100;
		return a;
	}
	//引用传递
	public void referenceTransfer(Student stu1){
		stu1.setAge(stu1.getAge()+1);
		stu1.setName("张三");
		stu1.setStuNo("s001");
	}
	public static void main(String[] args) {
		Demo1 d1 = new Demo1();
		//演示值传递
		int a = 10;
		d1.valueTransfer(a);
		System.out.println(a);
		a=d1.valueTransfer1(a);
		System.out.println(a);
		//演示引用传递
		Student stu = new Student();
		d1.referenceTransfer(stu);
		System.out.println("age="+stu.getAge());
		System.out.println("stuNo="+stu.getStuNo());
		System.out.println("name="+stu.getName());
	}
}
```

```java
package cn.tedu.day06.demo1;
public class Student {
	private int age;
	private String name;
	private String stuNo;
	public Student(){
		this(18,"无名氏","s003");
		System.out.println("无参数构造");
	}
	public Student(int age, String name, String stuNo) {	
		this.age = age;
		this.name = name;
		this.stuNo = stuNo;
		System.out.println("有参数构造");
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public String getStuNo() {
		return stuNo;
	}
	public void setStuNo(String stuNo) {
		this.stuNo = stuNo;
	}
	public static void main(String[] args) {
	}
}
```


