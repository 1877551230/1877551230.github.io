---
layout:     post
title:      java基础试题分析
subtitle:   
date:       2019-08-01
categories: Java
author:     miracle
catalog: true
tags:
    - Java练习
---

* content
{:toc}

## 简答题

### 题目一 
随机组成四个由0-9组成的8位不重复数字的字符串，并且这四个字符串之间也不能重复

```java
public class Domo {

    public static void main(String[] args) {
        HashSet<String> nums = new HashSet<String>();//定义set集合,set集合元素不能重复
        HashSet<StringBuilder> strs = new HashSet<StringBuilder>();//定义set集合,set集合元素不能重复

        while(true) {
            //添加8个不同的数字
            while (nums.size() < 8) {
                Random random = new Random();//随机生成数字,添加到nums集合
                nums.add(Integer.toString(random.nextInt(10)));
            }
            StringBuilder stringBuilder = new StringBuilder();
            for (String str : nums) {
                stringBuilder.append(str);
            }
            strs.add(stringBuilder);
            //当数组有4个数时退出方法
            if(strs.size()==4){
                break;
            }
        }
    }
}
```

### 题目二

(简答题)创建一个多线程的TCP 服务器以及客户端，完成下面的功能：  
已知在服务器端的目录下有一个worldcup.txt,其格式如下：  
2006/意大利  
2002/巴西  
...  
该文件采用"年份/世界杯冠军 "的方式保存每一年世界杯冠军的信息。  
要求从客户端输入年份，从服务器端查询，若查询到，返回举办地；反之，返回"未查询到该年份的世界杯举办地"。 

服务器

```java
public class ServerMain {
    public static void main(String[] args) throws IOException {
        System.out.println("服务器已启动");
        ServerSocket ss = new ServerSocket(9999);
        while (true) {
            Socket socket = ss.accept();
            Server server = new Server(socket);
            Thread t = new Thread(server);
            t.start();
        }

    }
}
```

服务器逻辑

```java
public class Server implements Runnable{
Socket socket ;
public Server(Socket socket){
    this.socket=socket;
}

    // 创建map对象
    private Map<String, String> map = new HashMap<>();

    //构造代码块的内容会在对象创建的时候执行
    {
        try {
            // 创建字符输入流
            BufferedReader br = new BufferedReader(new FileReader("D:/aa/worldcup.txt"));
            // 读取服务端目录下worldcup.txt文件
            String str;
            while ((str = br.readLine()) != null) {
                // 以/为标志将读取到的字符串分割成两个子字符串
                String[] st = str.split("/");
                // 将读到的内容放入到map中
                map.put(st[0], st[1]);
                System.out.println(st[0]+""+st[1]);
            }
            // 关流
            br.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
    @Override
    public void run() {
        try{
            //网络输入流
            DataInputStream dis = new DataInputStream(new BufferedInputStream(socket.getInputStream()));
            //网络输出流
            DataOutputStream dos = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));
            // 读取客户端发送过来的数据
            String year = dis.readUTF();
            // 判断map中是否包含year，并将结果发送给客户端
            if (map.containsKey(year)) {
                dos.writeUTF(map.get(year));
            } else {
                dos.writeUTF("未查询到该年份的世界杯举办地");
            }
            dos.close();
            dis.close();
            // 关流
            socket.close();

        }catch (Exception e){
            e.printStackTrace();
        }


    }
}
```

客户端

```java
public class Client {

    public static void main(String[] args) throws Exception{
        System.out.println("输入年份");
        Scanner sc = new Scanner(System.in);
      Socket  socket = new Socket("localhost", 9999);
        String year = sc.nextLine();
        //网络输入流
        DataInputStream dis = new DataInputStream(new BufferedInputStream(socket.getInputStream()));
        //网络输出流
        DataOutputStream dos = new DataOutputStream(new BufferedOutputStream(socket.getOutputStream()));
        dos.writeUTF(year);
        dos.flush();
        // 读取服务端返回过来的数据
        String city = dis.readUTF();
        System.out.println(city);
        dis.close();
        dos.close();
        // 关流
        socket.close();



    }
}
```

## 不借助第三个变量交换值

### 栈

借助栈的方式,先进后出,将先取出的值赋给后面的值

```java
void exchange(int x,int y){
		Stack s =new Stack();
		s.push(x);
		s.push(y);
		x=(int) s.pop();
		y=(int)s.pop();
		System.out.println("x="+x+"  y="+y);	
	}
```

### 四则运算

```java
int a=13;
int b=23;
a=b-a;
b=b-a;
a=a+b;
```
### 位运算符

```java
int x=10; //  1010
int y=5;// y= 0101
x=x^y;  // x= 1111  =15
y=y^x;//   y= 1010  =10
x=x^y;//   x= 0101  =5
```
